<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Automatic Package Testing • autotest</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Automatic Package Testing">
<meta property="og:description" content="Automatic testing of R packages via a simple YAML
    schema.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">autotest</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.1.681</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/mpadge/ropenscilabs/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">


<div id="autotest" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#autotest" class="anchor"></a>autotest</h1></div>
<p>Automatic mutation testing of R packages. Mutation in the sense of mutating inputs (parameters) to function calls, rather than mutation of underlying code (see, for example, <a href="https://github.com/ropensci/mutant"><code>mutant</code></a> for that). <code>autotest</code> primarily works by scraping documented examples for all functions, and mutating the parameters input to those functions.</p>
<p><strong>This package is very unstable and subject to ongoing development (Nov 2020)</strong></p>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Not yet on CRAN, so must be installed from remote repository host systems using any one of the following options:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># install.packages("remotes")</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_git.html">install_git</a></span><span class="op">(</span><span class="st">"https://git.sr.ht/~mpadge/autotest"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_bitbucket.html">install_bitbucket</a></span><span class="op">(</span><span class="st">"mpadge/autotest"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_gitlab.html">install_gitlab</a></span><span class="op">(</span><span class="st">"mpadge/autotest"</span><span class="op">)</span>
<span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html">install_github</a></span><span class="op">(</span><span class="st">"ropenscilabs/autotest"</span><span class="op">)</span></code></pre></div>
<p>The package can then be loaded the usual way:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span> <span class="op">(</span><span class="va"><a href="https://github.com/ropenscilabs/autotest">autotest</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<p>The simply way to use the package is</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autotest_package.html">autotest_package</a></span> <span class="op">(</span><span class="st">"&lt;package&gt;"</span><span class="op">)</span></code></pre></div>
<p>The argument to <code><a href="reference/autotest_package.html">autotest_package()</a></code> can either be the name of an installed package, or a path to a local directory containing the source for a package. The result is a <code>data.frame</code> of errors, warnings, and other diagnostic messages issued during package <code>auotest</code>-ing.</p>
</div>
<div id="what-is-tested" class="section level2">
<h2 class="hasAnchor">
<a href="#what-is-tested" class="anchor"></a>What is tested?</h2>
<p>The package includes a function which lists all test currently implemented.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="reference/autotest_types.html">autotest_types</a></span> <span class="op">(</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 23 x 8</span>
<span class="co">#&gt;    type  test_name  fn_name parameter parameter_type operation   content   test </span>
<span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;       &lt;chr&gt;     &lt;lgl&gt;</span>
<span class="co">#&gt;  1 dummy rect_as_o… &lt;NA&gt;    &lt;NA&gt;      rectangular    Convert on… "check f… TRUE </span>
<span class="co">#&gt;  2 dummy rect_comp… &lt;NA&gt;    &lt;NA&gt;      rectangular    Convert on… "expect … TRUE </span>
<span class="co">#&gt;  3 dummy rect_comp… &lt;NA&gt;    &lt;NA&gt;      rectangular    Convert on… "expect … TRUE </span>
<span class="co">#&gt;  4 dummy rect_comp… &lt;NA&gt;    &lt;NA&gt;      rectangular    Convert on… "expect … TRUE </span>
<span class="co">#&gt;  5 dummy extend_re… &lt;NA&gt;    &lt;NA&gt;      rectangular    Extend exi… "(Should… TRUE </span>
<span class="co">#&gt;  6 dummy replace_r… &lt;NA&gt;    &lt;NA&gt;      rectangular    Replace cl… "(Should… TRUE </span>
<span class="co">#&gt;  7 dummy vector_to… &lt;NA&gt;    &lt;NA&gt;      vector         Convert ve… "(Should… TRUE </span>
<span class="co">#&gt;  8 dummy vector_cu… &lt;NA&gt;    &lt;NA&gt;      vector         Custom cla… "(Should… TRUE </span>
<span class="co">#&gt;  9 dummy trivial_n… &lt;NA&gt;    &lt;NA&gt;      numeric        Add trivia… "(Should… TRUE </span>
<span class="co">#&gt; 10 dummy int_as_nu… &lt;NA&gt;    &lt;NA&gt;      single integer Integer va… "(Should… TRUE </span>
<span class="co">#&gt; # … with 13 more rows</span></code></pre></div>
<p>That functions returns a <a href="https://tibble.tidyverse.org"><code>tibble</code></a> describing 23 unique tests. All <code>autotest</code> functions return these same kinds of objects. The table returned from <a href="https://ropenscilabs.github.io/autotest/reference/autotest_types.html"><code>autotest_types()</code></a> can be used to selectively switch tests off by setting values in the <code>test</code> column to <code>FALSE</code>, as demonstrated below.</p>
</div>
<div id="how-does-it-work" class="section level2">
<h2 class="hasAnchor">
<a href="#how-does-it-work" class="anchor"></a>How Does It Work?</h2>
<p>The <code><a href="reference/autotest_package.html">autotest_package()</a></code> function returns the results of implementing all tests on a given package, or on specified functions on that package. These results only indicate any divergence from expected behaviour, whether unexpected errors, warnings, or other behaviour. An ideal result is that <code><a href="reference/autotest_package.html">autotest_package()</a></code> returns nothing (strictly, <code>NULL</code>), indicating that all tests passed successfully. To see which tests were performed, or to see which tests would be performed prior to actually running them, the function has a <code>test</code> parameter with a default value of <code>TRUE</code>. Setting this to <code>FALSE</code> returns a (generally much larger) <code>data.frame</code> of all tests which would be conducted on the nominated package.</p>
<p>Tests can also be selectively specified through the parameters <code>functions</code>, used to nominate functions to include in tests, or <code>exclude</code>, used to nominate functions to exclude from tests. The following code illustrates.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autotest_package.html">autotest_package</a></span> <span class="op">(</span>package <span class="op">=</span> <span class="st">"stats"</span>, functions <span class="op">=</span> <span class="st">"var"</span>, test <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p><img src="README-stats-var-no-test-1.png" width="672"><img src="README-stats-var-no-test-2.png" width="672"><img src="README-stats-var-no-test-3.png" width="672"><img src="README-stats-var-no-test-4.png" width="672"><img src="README-stats-var-no-test-5.png" width="672"><img src="README-stats-var-no-test-6.png" width="672"><img src="README-stats-var-no-test-7.png" width="672"><img src="README-stats-var-no-test-8.png" width="672"><img src="README-stats-var-no-test-9.png" width="672"><img src="README-stats-var-no-test-10.png" width="672"><img src="README-stats-var-no-test-11.png" width="672"><img src="README-stats-var-no-test-12.png" width="672"><img src="README-stats-var-no-test-13.png" width="672"><img src="README-stats-var-no-test-14.png" width="672"><img src="README-stats-var-no-test-15.png" width="672"><img src="README-stats-var-no-test-16.png" width="672"><img src="README-stats-var-no-test-17.png" width="672"><img src="README-stats-var-no-test-18.png" width="672"><img src="README-stats-var-no-test-19.png" width="672"><img src="README-stats-var-no-test-20.png" width="672"><img src="README-stats-var-no-test-21.png" width="672"><img src="README-stats-var-no-test-22.png" width="672"><img src="README-stats-var-no-test-23.png" width="672"><img src="README-stats-var-no-test-24.png" width="672"><img src="README-stats-var-no-test-25.png" width="672"><img src="README-stats-var-no-test-26.png" width="672"><img src="README-stats-var-no-test-27.png" width="672"><img src="README-stats-var-no-test-28.png" width="672"><img src="README-stats-var-no-test-29.png" width="672"><img src="README-stats-var-no-test-30.png" width="672"><img src="README-stats-var-no-test-31.png" width="672"><img src="README-stats-var-no-test-32.png" width="672"><img src="README-stats-var-no-test-33.png" width="672"><img src="README-stats-var-no-test-34.png" width="672"><img src="README-stats-var-no-test-35.png" width="672"><img src="README-stats-var-no-test-36.png" width="672"><img src="README-stats-var-no-test-37.png" width="672"><img src="README-stats-var-no-test-38.png" width="672"><img src="README-stats-var-no-test-39.png" width="672"><img src="README-stats-var-no-test-40.png" width="672"><img src="README-stats-var-no-test-41.png" width="672"><img src="README-stats-var-no-test-42.png" width="672"><img src="README-stats-var-no-test-43.png" width="672"><img src="README-stats-var-no-test-44.png" width="672"><img src="README-stats-var-no-test-45.png" width="672"><img src="README-stats-var-no-test-46.png" width="672"><img src="README-stats-var-no-test-47.png" width="672"><img src="README-stats-var-no-test-48.png" width="672"><img src="README-stats-var-no-test-49.png" width="672"><img src="README-stats-var-no-test-50.png" width="672"><img src="README-stats-var-no-test-51.png" width="672"><img src="README-stats-var-no-test-52.png" width="672"><img src="README-stats-var-no-test-53.png" width="672"><img src="README-stats-var-no-test-54.png" width="672"><img src="README-stats-var-no-test-55.png" width="672"><img src="README-stats-var-no-test-56.png" width="672"><img src="README-stats-var-no-test-57.png" width="672"><img src="README-stats-var-no-test-58.png" width="672"><img src="README-stats-var-no-test-59.png" width="672"><img src="README-stats-var-no-test-60.png" width="672"><img src="README-stats-var-no-test-61.png" width="672"><img src="README-stats-var-no-test-62.png" width="672"><img src="README-stats-var-no-test-63.png" width="672"><img src="README-stats-var-no-test-64.png" width="672"><img src="README-stats-var-no-test-65.png" width="672"><img src="README-stats-var-no-test-66.png" width="672"><img src="README-stats-var-no-test-67.png" width="672"><img src="README-stats-var-no-test-68.png" width="672"><img src="README-stats-var-no-test-69.png" width="672"><img src="README-stats-var-no-test-70.png" width="672"><img src="README-stats-var-no-test-71.png" width="672"><img src="README-stats-var-no-test-72.png" width="672"><img src="README-stats-var-no-test-73.png" width="672"><img src="README-stats-var-no-test-74.png" width="672"><img src="README-stats-var-no-test-75.png" width="672"><img src="README-stats-var-no-test-76.png" width="672"><img src="README-stats-var-no-test-77.png" width="672"><img src="README-stats-var-no-test-78.png" width="672"><img src="README-stats-var-no-test-79.png" width="672"><img src="README-stats-var-no-test-80.png" width="672"><img src="README-stats-var-no-test-81.png" width="672"><img src="README-stats-var-no-test-82.png" width="672"><img src="README-stats-var-no-test-83.png" width="672"><img src="README-stats-var-no-test-84.png" width="672"><img src="README-stats-var-no-test-85.png" width="672"><img src="README-stats-var-no-test-86.png" width="672"><img src="README-stats-var-no-test-87.png" width="672"><img src="README-stats-var-no-test-88.png" width="672"><img src="README-stats-var-no-test-89.png" width="672"><img src="README-stats-var-no-test-90.png" width="672"><img src="README-stats-var-no-test-91.png" width="672"><img src="README-stats-var-no-test-92.png" width="672"><img src="README-stats-var-no-test-93.png" width="672"><img src="README-stats-var-no-test-94.png" width="672"><img src="README-stats-var-no-test-95.png" width="672"><img src="README-stats-var-no-test-96.png" width="672"><img src="README-stats-var-no-test-97.png" width="672"><img src="README-stats-var-no-test-98.png" width="672"><img src="README-stats-var-no-test-99.png" width="672"><img src="README-stats-var-no-test-100.png" width="672"><img src="README-stats-var-no-test-101.png" width="672"><img src="README-stats-var-no-test-102.png" width="672"><img src="README-stats-var-no-test-103.png" width="672"><img src="README-stats-var-no-test-104.png" width="672"><img src="README-stats-var-no-test-105.png" width="672"><img src="README-stats-var-no-test-106.png" width="672"><img src="README-stats-var-no-test-107.png" width="672"><img src="README-stats-var-no-test-108.png" width="672"><img src="README-stats-var-no-test-109.png" width="672"><img src="README-stats-var-no-test-110.png" width="672"><img src="README-stats-var-no-test-111.png" width="672"><img src="README-stats-var-no-test-112.png" width="672"><img src="README-stats-var-no-test-113.png" width="672"><img src="README-stats-var-no-test-114.png" width="672"><img src="README-stats-var-no-test-115.png" width="672"><img src="README-stats-var-no-test-116.png" width="672"><img src="README-stats-var-no-test-117.png" width="672"><img src="README-stats-var-no-test-118.png" width="672"><img src="README-stats-var-no-test-119.png" width="672"><img src="README-stats-var-no-test-120.png" width="672"><img src="README-stats-var-no-test-121.png" width="672"><img src="README-stats-var-no-test-122.png" width="672"><img src="README-stats-var-no-test-123.png" width="672"><img src="README-stats-var-no-test-124.png" width="672"><img src="README-stats-var-no-test-125.png" width="672"><img src="README-stats-var-no-test-126.png" width="672"><img src="README-stats-var-no-test-127.png" width="672"><img src="README-stats-var-no-test-128.png" width="672"><img src="README-stats-var-no-test-129.png" width="672"><img src="README-stats-var-no-test-130.png" width="672"><img src="README-stats-var-no-test-131.png" width="672"><img src="README-stats-var-no-test-132.png" width="672"><img src="README-stats-var-no-test-133.png" width="672"><img src="README-stats-var-no-test-134.png" width="672"><img src="README-stats-var-no-test-135.png" width="672"><img src="README-stats-var-no-test-136.png" width="672"><img src="README-stats-var-no-test-137.png" width="672"><img src="README-stats-var-no-test-138.png" width="672"><img src="README-stats-var-no-test-139.png" width="672"><img src="README-stats-var-no-test-140.png" width="672"><img src="README-stats-var-no-test-141.png" width="672"><img src="README-stats-var-no-test-142.png" width="672"><img src="README-stats-var-no-test-143.png" width="672"><img src="README-stats-var-no-test-144.png" width="672"><img src="README-stats-var-no-test-145.png" width="672"><img src="README-stats-var-no-test-146.png" width="672"><img src="README-stats-var-no-test-147.png" width="672"><img src="README-stats-var-no-test-148.png" width="672"><img src="README-stats-var-no-test-149.png" width="672"><img src="README-stats-var-no-test-150.png" width="672"><img src="README-stats-var-no-test-151.png" width="672"><img src="README-stats-var-no-test-152.png" width="672"><img src="README-stats-var-no-test-153.png" width="672"><img src="README-stats-var-no-test-154.png" width="672"><img src="README-stats-var-no-test-155.png" width="672"><img src="README-stats-var-no-test-156.png" width="672"><img src="README-stats-var-no-test-157.png" width="672"><img src="README-stats-var-no-test-158.png" width="672"><img src="README-stats-var-no-test-159.png" width="672"><img src="README-stats-var-no-test-160.png" width="672"><img src="README-stats-var-no-test-161.png" width="672"><img src="README-stats-var-no-test-162.png" width="672"><img src="README-stats-var-no-test-163.png" width="672"><img src="README-stats-var-no-test-164.png" width="672"><img src="README-stats-var-no-test-165.png" width="672"><img src="README-stats-var-no-test-166.png" width="672"><img src="README-stats-var-no-test-167.png" width="672"><img src="README-stats-var-no-test-168.png" width="672"><img src="README-stats-var-no-test-169.png" width="672"><img src="README-stats-var-no-test-170.png" width="672"><img src="README-stats-var-no-test-171.png" width="672"><img src="README-stats-var-no-test-172.png" width="672"><img src="README-stats-var-no-test-173.png" width="672"><img src="README-stats-var-no-test-174.png" width="672"><img src="README-stats-var-no-test-175.png" width="672"><img src="README-stats-var-no-test-176.png" width="672"><img src="README-stats-var-no-test-177.png" width="672"><img src="README-stats-var-no-test-178.png" width="672"><img src="README-stats-var-no-test-179.png" width="672"><img src="README-stats-var-no-test-180.png" width="672"><img src="README-stats-var-no-test-181.png" width="672"></p>
<div class="sourceCode" id="cb6"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a><span class="co">#&gt; </span></span>
<span id="cb6-2"><a href="#cb6-2"></a><span class="co">#&gt; ── autotesting stats ──</span></span>
<span id="cb6-3"><a href="#cb6-3"></a><span class="co">#&gt; </span></span>
<span id="cb6-4"><a href="#cb6-4"></a><span class="co">#&gt; ✔ [1 / 4]: var</span></span>
<span id="cb6-5"><a href="#cb6-5"></a><span class="co">#&gt; ✔ [2 / 4]: cor</span></span>
<span id="cb6-6"><a href="#cb6-6"></a><span class="co">#&gt; ✔ [3 / 4]: cov</span></span>
<span id="cb6-7"><a href="#cb6-7"></a><span class="co">#&gt; ✔ [4 / 4]: cov</span></span></code></pre></div>
<p><img src="README-stats-var-no-test-182.png" width="672"></p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span> <span class="op">(</span><span class="va">x</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 96 x 9</span>
<span class="co">#&gt;    type  test_name fn_name parameter parameter_type operation content test </span>
<span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;   &lt;lgl&gt;</span>
<span class="co">#&gt;  1 dummy vector_t… var     x         vector         Convert … (Shoul… TRUE </span>
<span class="co">#&gt;  2 dummy negate_l… var     na.rm     single logical Negate d… (Funct… TRUE </span>
<span class="co">#&gt;  3 dummy subst_in… &lt;NA&gt;    &lt;NA&gt;      single logical Substitu… (Funct… TRUE </span>
<span class="co">#&gt;  4 dummy subst_ch… &lt;NA&gt;    &lt;NA&gt;      single logical Substitu… should… TRUE </span>
<span class="co">#&gt;  5 dummy single_p… var     na.rm     single logical Length 2… Should… TRUE </span>
<span class="co">#&gt;  6 dummy return_s… var     (return … &lt;NA&gt;           Check th… &lt;NA&gt;    TRUE </span>
<span class="co">#&gt;  7 dummy return_v… var     (return … &lt;NA&gt;           Check th… &lt;NA&gt;    TRUE </span>
<span class="co">#&gt;  8 dummy return_d… var     (return … &lt;NA&gt;           Check wh… &lt;NA&gt;    TRUE </span>
<span class="co">#&gt;  9 dummy return_c… var     (return … &lt;NA&gt;           Compare … &lt;NA&gt;    TRUE </span>
<span class="co">#&gt; 10 dummy vector_t… var     y         vector         Convert … (Shoul… TRUE </span>
<span class="co">#&gt; # … with 86 more rows, and 1 more variable: yaml_hash &lt;chr&gt;</span></code></pre></div>
<p>That result details the 96 tests which would be applied to the <code>var</code> function from the <code>stats</code> package. These 96 tests yield the following results when actually applied:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autotest_package.html">autotest_package</a></span> <span class="op">(</span>package <span class="op">=</span> <span class="st">"stats"</span>, functions <span class="op">=</span> <span class="st">"var"</span>, test <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; ── autotesting stats ──</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ✔ [1 / 4]: var</span>
<span class="co">#&gt; ✔ [2 / 4]: cor</span>
<span class="co">#&gt; ✔ [3 / 4]: cov</span>
<span class="co">#&gt; ✔ [4 / 4]: cov</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span> <span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 9 x 9</span>
<span class="co">#&gt;   type  test_name fn_name parameter parameter_type operation content test </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;   &lt;lgl&gt;</span>
<span class="co">#&gt; 1 diag… vector_t… var     x         vector         Convert … "Funct… TRUE </span>
<span class="co">#&gt; 2 diag… vector_t… var     y         vector         Convert … "Funct… TRUE </span>
<span class="co">#&gt; 3 diag… vector_t… cor     x         vector         Convert … "Funct… TRUE </span>
<span class="co">#&gt; 4 diag… vector_t… cor     y         vector         Convert … "Funct… TRUE </span>
<span class="co">#&gt; 5 diag… single_c… cor     use       single charac… upper-ca… "is ca… TRUE </span>
<span class="co">#&gt; 6 diag… single_c… cor     use       single charac… upper-ca… "is ca… TRUE </span>
<span class="co">#&gt; 7 diag… single_c… cov     use       single charac… upper-ca… "is ca… TRUE </span>
<span class="co">#&gt; 8 diag… single_c… cov     use       single charac… upper-ca… "is ca… TRUE </span>
<span class="co">#&gt; 9 diag… single_c… cov     use       single charac… upper-ca… "is ca… TRUE </span>
<span class="co">#&gt; # … with 1 more variable: yaml_hash &lt;chr&gt;</span></code></pre></div>
<p>And only 9 of the original 96 tests produced unexpected behaviour. There were in fact only two kinds of tests which produced these failures:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span> <span class="op">(</span><span class="va">y</span><span class="op">$</span><span class="va">operation</span><span class="op">)</span>
<span class="co">#&gt; [1] "Convert vector input to list-columns"</span>
<span class="co">#&gt; [2] "upper-case character parameter"</span></code></pre></div>
<p>The first involves conversion of a vector to a list-column representation (via <code>I(as.list(&lt;vec&gt;))</code>). Relatively few packages accept this kind of input, even though doing so is relatively straightforward. The following lines demonstrate how these tests can be switched off when <code>autotest</code>-ing a package. The <code><a href="reference/autotest_types.html">autotest_types()</a></code> function accepts a single argument listing the <code>test_name</code> entries of any tests which are to be switched off.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">types</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autotest_types.html">autotest_types</a></span> <span class="op">(</span>notest <span class="op">=</span> <span class="st">"vector_to_list_col"</span><span class="op">)</span>
<span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/autotest_package.html">autotest_package</a></span> <span class="op">(</span>package <span class="op">=</span> <span class="st">"stats"</span>, functions <span class="op">=</span> <span class="st">"var"</span>,
                       test <span class="op">=</span> <span class="cn">TRUE</span>, test_data <span class="op">=</span> <span class="va">types</span><span class="op">)</span>
<span class="co">#&gt; ── autotesting stats ──</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; ✔ [1 / 4]: var</span>
<span class="co">#&gt; ✔ [2 / 4]: cor</span>
<span class="co">#&gt; ✔ [3 / 4]: cov</span>
<span class="co">#&gt; ✔ [4 / 4]: cov</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span> <span class="op">(</span><span class="va">y</span><span class="op">)</span>
<span class="co">#&gt; # A tibble: 9 x 9</span>
<span class="co">#&gt;   type  test_name fn_name parameter parameter_type operation content test </span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;     &lt;chr&gt;          &lt;chr&gt;     &lt;chr&gt;   &lt;lgl&gt;</span>
<span class="co">#&gt; 1 dummy vector_t… var     x         vector         Convert … (Shoul… FALSE</span>
<span class="co">#&gt; 2 dummy vector_t… var     y         vector         Convert … (Shoul… FALSE</span>
<span class="co">#&gt; 3 dummy vector_t… cor     x         vector         Convert … (Shoul… FALSE</span>
<span class="co">#&gt; 4 dummy vector_t… cor     y         vector         Convert … (Shoul… FALSE</span>
<span class="co">#&gt; 5 diag… single_c… cor     use       single charac… upper-ca… is cas… TRUE </span>
<span class="co">#&gt; 6 diag… single_c… cor     use       single charac… upper-ca… is cas… TRUE </span>
<span class="co">#&gt; 7 diag… single_c… cov     use       single charac… upper-ca… is cas… TRUE </span>
<span class="co">#&gt; 8 diag… single_c… cov     use       single charac… upper-ca… is cas… TRUE </span>
<span class="co">#&gt; 9 diag… single_c… cov     use       single charac… upper-ca… is cas… TRUE </span>
<span class="co">#&gt; # … with 1 more variable: yaml_hash &lt;chr&gt;</span></code></pre></div>
<p>Those tests are still returned from <code><a href="reference/autotest_package.html">autotest_package()</a></code>, but with <code>test = FALSE</code>, and a <code>type</code> of “dummy” rather than the previous “diagnostic”.</p>
</div>
<div id="prior-work" class="section level2">
<h2 class="hasAnchor">
<a href="#prior-work" class="anchor"></a>Prior work</h2>
<ol>
<li>The <a href="https://github.com/great-expectations/great_expectations"><code>great-expectations</code></a> framework for python, described in <a href="https://medium.com/@expectgreatdata/down-with-pipeline-debt-introducing-great-expectations-862ddc46782a">this medium article</a>.</li>
<li>
<a href="https://hackage.haskell.org/package/QuickCheck"><code>QuickCheck</code></a> for Haskell</li>
<li>
<a href="https://github.com/mbj/mutant"><code>mutate</code></a> for ruby.</li>
</ol>
</div>
</div>

  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Browse source code at <br><a href="https://github.com/mpadge/ropenscilabs/">https://​github.com/​mpadge/​ropenscilabs/​</a>
</li>
<li>Report a bug at <br><a href="https://github.com/mpadge/ropenscilabs/autotest/issues">
    https://​github.com/​mpadge/​ropenscilabs/​autotest/​issues</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li><a href="https://www.r-project.org/Licenses/GPL-3">GPL-3</a></li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Mark Padgham <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/ropenscilabs/autotest/actions?query=workflow%3AR-CMD-check"><img src="https://github.com/ropenscilabs/autotest/workflows/R-CMD-check/badge.svg" alt="R build status"></a></li>
<li><a href="https://codecov.io/gh/ropenscilabs/autotest"><img src="https://codecov.io/gh/ropenscilabs/autotest/branch/master/graph/badge.svg" alt="codecov"></a></li>
<li><a href="https://www.repostatus.org/#concept"><img src="https://www.repostatus.org/badges/latest/concept.svg" alt="Project Status: Concept"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Mark Padgham.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
